(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{"14m4":function(n,e,t){"use strict";var a=t("FN8x");n.exports=a},"BP/7":function(n,e,t){"use strict";var a=t("Q3sF"),r=t("FRmQ"),o=Array.prototype;n.exports=function(n){var e=n.find;return n===o||a(o,n)&&e===o.find?r:e}},FN8x:function(n,e,t){"use strict";var a=t("Kxu3");n.exports=a},FRmQ:function(n,e,t){"use strict";t("vfRR");var a=t("wY6U");n.exports=a("Array","find")},Ip10:function(n,e,t){n.exports=t("drcE")},Kxu3:function(n,e,t){"use strict";var a=t("BP/7");n.exports=a},"Q/yZ":function(n,e,t){"use strict";t.r(e);var a={};t.r(a),t.d(a,"set",(function(){return an})),t.d(a,"setXY",(function(){return rn})),t.d(a,"add",(function(){return on})),t.d(a,"sub",(function(){return sn})),t.d(a,"mul",(function(){return cn})),t.d(a,"floor",(function(){return ln})),t.d(a,"ceil",(function(){return un})),t.d(a,"round",(function(){return dn})),t.d(a,"length",(function(){return fn})),t.d(a,"makeLength",(function(){return hn})),t.d(a,"angle",(function(){return pn})),t.d(a,"rotate",(function(){return mn})),t.d(a,"unit",(function(){return vn})),t.d(a,"normalizeOnX",(function(){return gn})),t.d(a,"normalizeOnY",(function(){return bn})),t.d(a,"perpR",(function(){return yn})),t.d(a,"perpL",(function(){return jn})),t.d(a,"dot",(function(){return xn})),t.d(a,"cross",(function(){return On})),t.d(a,"project",(function(){return wn})),t.d(a,"sign",(function(){return kn})),t.d(a,"angleBetween",(function(){return Tn})),t.d(a,"equals",(function(){return Rn})),t.d(a,"nearlyEquals",(function(){return En}));var r=t("+EbZ"),o=t.n(r),i=t("ejTr"),s=t.n(i),c=t("CvqZ"),l=t.n(c),u=t("8Vev"),d=t.n(u),f=t("NDYa"),h=t.n(f),p=t("aNQX"),m=t.n(p),v=t("ibpK"),g=t("nxLD"),b=t("U/7m"),y=t("i4NW"),j=t("xlpc"),x=t("wD70"),O=t("L6fE"),w=t("a0dU"),k=t.n(w),T=t("SLhn"),R=t.n(T),E=t("nGYt"),S=t.n(E),A=t("4GPS"),P=t.n(A),F=t("4LGG"),D=t.n(F),U=t("q1tI"),C=t.n(U),M=t("qQT2"),B=t("fT37"),G=t("EJl4"),L=t("qYPL"),z=t("vmEU"),_=t("5Yf3"),N=t("Q4cU"),H=t.n(N),I=t("FKOG"),V=t("JWrI"),J=t("EovC"),Y=t("S1d7"),q=Math.sqrt,Q=Math.atan2,W=Math.sin,K=Math.cos,X=Math.abs,Z=Math.PI,$=Math.floor,nn=Math.ceil,en=Math.round,tn=2*Z;function an(n){return this.x=n.x,this.y=n.y,this}function rn(n,e){return this.x=n,this.y=e,this}function on(n){return rn.call(this,this.x+n.x,this.y+n.y)}function sn(n){return rn.call(this,this.x-n.x,this.y-n.y)}function cn(n){return rn.call(this,this.x*n,this.y*n)}function ln(){return rn.call(this,$(this.x),$(this.y))}function un(){return rn.call(this,nn(this.x),nn(this.y))}function dn(){return rn.call(this,en(this.x),en(this.y))}function fn(){var n=this.x,e=this.y;return q(n*n+e*e)}function hn(n){if(n<0)throw new J.a("must not be less than 0","len",n);return 0===n?rn.call(this,0,0):0===this.x&&0===this.y?rn.call(this,0,n):cn.call(this,n/fn.call(this))}function pn(){return Q(this.x,this.y)}function mn(n){var e=this.x,t=this.y,a=W(n),r=K(n);return rn.call(this,e*r-t*a,e*a+t*r)}function vn(){var n=this,e=Object(M.c)((function(){if(0===n.x&&0===n.y)return[0,0];var e=1/fn.call(n);return[n.x*e,n.y*e]})),t=Object(_.a)(e,2),a=t[0],r=t[1];return rn.call(this,a,r)}function gn(){if(0===this.x)throw new V.a("cannot normalize on `x` if it is zero",this);return cn.call(this,1/X(this.x))}function bn(){if(0===this.y)throw new V.a("cannot normalize on `y` if it is zero",this);return cn.call(this,1/X(this.y))}function yn(){return rn.call(this,-this.y,this.x)}function jn(){return rn.call(this,this.y,-this.x)}function xn(n){return this.x*n.x+this.y*n.y}function On(n){return this.x*n.y-this.y*n.x}function wn(n){var e=fn.call(n);return 0===e?0:xn.call(this,n)/(e*e)}function kn(n){return this.y*n.x>this.x*n.y?-1:1}function Tn(n){var e=Q(n.y,n.x)-Q(this.y,this.x);return e>Z?tn-e:-e}function Rn(n){return this.x===n.x&&this.y===n.y}function En(n){var e;return(e=this.x,Y.tolerantCompare).call(e,n.x)&&(e=this.y,Y.tolerantCompare).call(e,n.y)}var Sn,An=t("q4g7"),Pn=t.n(An),Fn=Math.max,Dn=Math.random,Un=function(n,e){return n+Dn()*e},Cn=function(n,e){return Fn(0,n-e)},Mn=function(n){return 5/n},Bn=function(n,e){return n*e},Gn=function(n,e,t){return t+(n-e*t)},Ln=H()({passive:Pn()("passive"),aggressive:Pn()("aggressive")}),zn=H()({up:Pn()("up"),right:Pn()("right"),down:Pn()("down"),left:Pn()("left")}),_n=H()({right:zn.right,left:zn.left}),Nn=H()({ahead:Pn()("ahead"),up:zn.up,down:zn.down,none:Pn()("none")}),Hn=H()({no:Pn()("no"),drift:Pn()("drift"),yes:Pn()("yes")}),In=H()({full:Pn()("full"),weak:Pn()("weak"),none:Pn()("none")}),Vn=H()({bark:"bark",aroo:"aroo",land:"land",spawned:"spawned",hit:"hit",timedOut:"timedOut"}),Jn=H()(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)({},zn.up,H()({x:0,y:1})),zn.right,H()({x:1,y:0})),zn.down,H()({x:0,y:-1})),zn.left,H()({x:-1,y:0}))),Yn=function(n,e){return function(t,a,r){n(t,a,r)&&e.forEach((function(n){return n(t,a,r)}))}},qn={handledLogic:Pn()("handledLogic"),didInitialize:Pn()("didInitialize")},Qn={homing:{begin:100,full:25},fov:(Sn=120,I.a.toRadians).call(Sn),maxDrift:(Sn=150,I.a.toRadians).call(Sn)/1e3,chaseDistance:{node2:3,node3:3}},Wn={bulletVel:.45,driftRemainingValue:(Sn=60,I.a.toRadians).call(Sn)},Kn=1e3,Xn=150,Zn=Math.max,$n=Math.min,ne=Math.abs,ee=qn.didInitialize,te=qn.handledLogic,ae=Kn,re=Xn,oe=Qn.homing,ie=oe.begin,se=oe.full,ce=Qn.chaseDistance,le=Qn.maxDrift,ue=Qn.fov,de=Wn.bulletVel,fe=Wn.driftRemainingValue;function he(n,e,t){var r,o=(r=M.d.copyOwn.call(e),a.sub).call(r,n);a.length.call(o)<=t||((r=a.makeLength.call(o,t),a.add).call(r,n),a.set.call(e,o))}var pe,me=H()([function(n,e,t){var r,o=t.lanes;if(n.spawned&&!n.initialized){var i=n.trajectory,s=n.sounds,c=Object(_.a)(n.nodes,3),l=c[0],u=c[1],d=c[2];a.unit.call(i),(r=u.pos,a.set).call(r,l.pos),(r=d.pos,a.set).call(r,l.pos),n.driftRemaining=fe,n.timeout=ae,n.burst=0,n.initialized=!0,s[Vn.spawned].play(),o.add(ee)}},function(n,e){var t,r=e.cursor;if(n.spawned&&!(n.burst>0)){var o=n.sounds,i=Object(_.a)(n.nodes,1)[0].pos;(t=(t=(t=r.relPos,M.d.copyOwn).call(t),a.sub).call(t,i),a.length).call(t)>4||(n.timeout=0,n.burst=re,o[Vn.hit].play())}},function(n,e,t){var a=t.delta,r=t.lanes;n.spawned&&(r.has(ee)||n.burst>0||(n.timeout=Cn(n.timeout,a),n.timeout>0||(n.burst=re,n.sounds[Vn.timedOut].play())))},function(n,e,t){var a=t.delta,r=t.lanes;n.spawned&&(r.has(ee)||r.has(te)||n.burst<=0||(n.burst=Cn(n.burst,a),n.burst<=0&&(n.spawned=!1),r.add(te)))},function(n,e,t){var r,o=e.cursor,i=t.delta,s=t.lanes;if(n.spawned&&!s.has(ee)&&!s.has(te)&&!(n.driftRemaining<=0)){var c=o.relPos,l=n.trajectory,u=Object(_.a)(n.nodes,1)[0].pos,d=(r=M.d.copyOwn.call(c),a.sub).call(r,u),f=a.length.call(d);if(!(f>ie)){var h=Object(M.c)((function(){var e=$n(le*i,n.driftRemaining),t=Object(M.c)(p),a=Object(_.a)(t,2),r=a[0],o=a[1];if(r>.5*ue)return 0;if(f<=se)return o*$n(r,e);var s=f-se,c=D()(I.a).call(s,ie-se,0,0,1);return o*$n(r*c,e)}));n.driftRemaining=Zn(n.driftRemaining-ne(h),0),a.rotate.call(l,h)}}function p(){var n=a.angleBetween.call(d,l);return[ne(n),I.a.sign.call(n)]}},function(n,e,t){var r,o=t.delta,i=t.lanes;if(n.spawned&&!i.has(ee)&&!i.has(te)){var s=n.trajectory,c=Object(_.a)(n.nodes,3),l=c[0],u=c[1],d=c[2];(r=l.pos,a.add).call(r,(r=M.d.copyOwn.call(s),a.mul).call(r,de*o)),he(l.pos,u.pos,ce.node2),he(u.pos,d.pos,ce.node3),i.add(te)}}]),ve=t("Ip10"),ge=t.n(ve),be=t("dUVM"),ye=t.n(be),je=t("UUak"),xe={handledMovement:Pn()("handledMovement"),behaviorFinalized:Pn()("behaviorFinalized"),didFlee:Pn()("didFlee"),didAttack:Pn()("didAttack"),isFrustrated:Pn()("isFrustrated")},Oe=Mn(250),we={maxVel:.13,friction:Oe,runAccel:Bn(Oe,.13),jumpVel:{weak:.275,full:.375},jumpHeight:{weak:35,full:67}},ke=7,Te=42,Re=we.jumpHeight.full+Te,Ee={flee:{side:100,above:Re,below:24},comfortable:{min:150,max:300},maxTargetDistance:400,sideReachableBounds:{bottom:15,top:Re},edgeFleeDistances:{min:.1,max:.2},firingField:15,jumpOverDistance:50,stareAtOffset:100,stareUpRange:{min:-(pe=45,I.a.toRadians).call(pe),max:(pe=45,I.a.toRadians).call(pe)},sightFOV:Object(O.a)(Object(O.a)(Object(O.a)({},Nn.ahead,{min:(pe=45,I.a.toRadians).call(pe),max:(pe=125,I.a.toRadians).call(pe)}),Nn.up,{min:-(pe=15,I.a.toRadians).call(pe),max:(pe=60,I.a.toRadians).call(pe)}),Nn.down,{min:(pe=135,I.a.toRadians).call(pe),max:(pe=225,I.a.toRadians).call(pe)})},Se=200,Ae=500,Pe=300,Fe=1e3,De=4e3,Ue=16e3,Ce={start:1e3,added:3e3},Me={shortTimes:{start:1e3,added:1e3},longTimes:{start:4e3,added:4e3}};function Be(n){return H()(n)}var Ge=Object(M.c)((function(){var n=Be,e=H()([n({x:18,y:27}),n({x:20,y:24}),n({x:18,y:25}),n({x:9,y:45}),n({x:11,y:42}),n({x:8,y:43}),n({x:10,y:18})]);return function(n,t){var a=t.brain.moving,r=t.physics.onGround;return n===Nn.ahead?r?a===Hn.yes?e[1]:e[2]:e[0]:n===Nn.up?r?a===Hn.yes?e[4]:e[5]:e[3]:n!==Nn.down||r?je.b:e[6]}})),Le=xe.handledMovement,ze=we.friction,_e=we.runAccel,Ne=we.jumpVel,He=ke,Ie=Se,Ve=Ae,Je=Pe,Ye=Pn()("nateActions_Core/applyShootAnim");function qe(n,e,t){var a=e.cursor,r=e.bounds,o=t.lanes;if(!o.has(Le)){var i=n.physics.pos,s=n.brain,c=i.x-He,l=i.x+He,u=a.relPos.x-i.x>=0?_n.right:_n.left;u===_n.left&&c<=r.left||u===_n.right&&l>=r.right||(s.facing=u,s.moving=Hn.yes,o.add(Le))}}function Qe(n){return!n.spawned}var We=Math.abs,Ke=Math.random,Xe=Ee.firingField,Ze=Ee.maxTargetDistance,$e=Ee.sideReachableBounds,nt=$e.bottom,et=$e.top;function tt(n,e){var t,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n.physics.pos,o=n.brain,i=o.facing,s=o.shootCoolDown;if(a&&s>0)return Nn.none;var c,l=(e.x-r.x)*(i===_n.left?-1:1),u=e.y-r.y;if((t=c=Ge(Nn.down,n),je.a.isDefined).call(t)){var d,f=c,h=f.x,p=f.y,m=l-h,v=u-p;if(v<=0&&We(m)<=(d=-v,I.a.clamp).call(d,Xe))return Nn.down}if((t=c=Ge(Nn.up,n),je.a.isDefined).call(t)){var g=c,b=g.x,y=g.y,j=l-b,x=u-y;if(x>=0&&We(j)<=I.a.clamp.call(x,Xe))return Nn.up}if((t=c=Ge(Nn.ahead,n),je.a.isDefined).call(t)){var O=c,w=O.x,k=O.y,T=l-w,R=u-k;if(T>=0&&We(R)<=I.a.clamp.call(T,Xe))return Nn.ahead}return Nn.none}function at(n,e){return!!function(n,e){var t=n.x,a=n.y,r=e.left,o=e.right,i=e.ground,s=r-Ze,c=o+Ze;return!(!I.a.inRange.call(t,s,c)||!I.a.inRange.call(a,nt+i,et+i))}(n,e)||!!function(n,e){var t=n.x,a=n.y,r=e.left,o=e.right;return!(!I.a.inRange.call(a,-Ze,Ze)||!I.a.inRange.call(t,r,o))}(n,e)}function rt(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nateCommon/randomJump",a=Pn()(t);return function(t,r,o){var i,s=o.delta,c=o.actions,l=t.brain;if(t.physics.onGround){var u=null!==(i=c[a])&&void 0!==i?i:{nextJump:Un(n,e)};u.nextJump=Cn(u.nextJump,s),u.nextJump>0?t.actions[a]=u:l.jumping=Ke()>.5?In.full:In.weak}}}var ot=Math.random,it=xe.handledMovement,st=ke,ct=Pn()("nateActions_Debug/randomIdle"),lt=Pn()("nateActions_Debug/randomShoot");Pn()("nateActions_Debug/logJumpHeights");function ut(){var n=Un(1e3,2e3);return ot()>.5?[n,0]:[0,n]}function dt(){var n=Object(M.c)(ut),e=Object(_.a)(n,2);return{waiting:e[0],lookUp:!1,doElse:e[1]}}function ft(n,e,t){var a,r=t.delta,o=t.actions,i=t.lanes,s=null!==(a=o[ct])&&void 0!==a?a:Object(M.c)(dt);s.waiting>0?(i.add(it),n.brain.lookingUp=s.lookUp,s.waiting=Cn(s.waiting,r),s.waiting<=0&&(s.doElse=Un(1e3,2e3))):(s.doElse=Cn(s.doElse,r),s.doElse<=0&&(s.waiting=Un(1e3,2e3),s.lookUp=ot()>.75)),n.actions[ct]=s}function ht(n,e,t){var a=e.bounds,r=t.lanes;if(!r.has(it)){r.add(it);var o=n.brain,i=n.physics.pos;i.x-st<=a.left&&(o.facing=_n.right),i.x+st>=a.right&&(o.facing=_n.left),o.moving=Hn.yes}}var pt=rt(500,1500,"nateActions_Debug/randomJump");function mt(n,e,t){var a,r=t.delta,o=t.actions,i=n.brain;if(!(i.shootCoolDown>0)){var s=null!==(a=o[lt])&&void 0!==a?a:{nextShoot:ot()>.5?0:3e3*ot()};s.nextShoot=Cn(s.nextShoot,r),s.nextShoot<=0&&(i.shooting=Object(M.c)((function(){var e=ot();return e<.5?Nn.ahead:e<.75||n.physics.onGround?Nn.up:Nn.down}))),n.actions[lt]=s}}var vt=xe.behaviorFinalized,gt=Te,bt=Ee.maxTargetDistance,yt=Ee.sightFOV,jt=De;function xt(n,e,t){var a=t.lanes;return!a.has(vt)&&(n.brain.behavior===Ln.passive&&(a.add(vt),!0))}var Ot=Object(M.c)((function(){return Yn(xt,[ft,ht,pt,mt])})),wt=Yn((function(n){return n.brain.behavior===Ln.passive}),[function(n,e,t){var a=t.delta,r=t.lanes,o=n.brain;o.pacificationTimer<=0||(o.pacificationTimer=Cn(o.pacificationTimer,a),r.add(vt))},function(n,e,t){var r=e.bounds,o=e.cursor;if(!t.lanes.has(vt)){var i=n.physics.pos,s=n.brain,c=n.sounds,l=o.relPos;if(!(o.msSinceUpdate>=jt)&&at(l,r)){var u=function(n){var e=n.brain,t=e.lookingUp,a=e.aiming;return a!==Nn.none?a:t?Nn.up:Nn.ahead}(n),d=function(n,e,t){var r=n.x,o=n.y;o+=gt;var i=M.d.copyOwn.call(e);return i.x-=r,i.y-=o,t&&(i.x*=-1),[a.length.call(i),a.angle.call(i)]}(i,l,s.facing===_n.left),f=Object(_.a)(d,2),h=f[0],p=f[1];if(!(h>bt)){var m=yt[u],v=m.min,g=m.max;I.a.angleInRange.call(p,v,g)&&(s.behavior=Ln.aggressive,c[Vn.bark].play())}}}},Ot]),kt=Math.max,Tt=Math.abs,Rt=xe.handledMovement,Et=xe.behaviorFinalized,St=xe.didFlee,At=xe.didAttack,Pt=Ee.flee,Ft=Pt.above,Dt=Pt.below,Ut=Pt.side,Ct=Ee.edgeFleeDistances,Mt=Ee.jumpOverDistance,Bt=Ee.comfortable.max,Gt=Ee.sideReachableBounds.bottom,Lt=ke,zt=Te,_t=we.maxVel,Nt=Fe,Ht=H()({until:0,forced:!1}),It=Pn()("nateActions_Flee/fleeBehavior"),Vt=Pn()("nateActions_Flee/fleeFromEdge"),Jt=Pn()("nateActions_Flee/fleeFromCursor"),Yt=Pn()("nateActions_Flee/retaliateJumpOver"),qt=Pn()("nateActions_Flee/retaliateBackFire");function Qt(n,e){var t=e.min,a=e.max,r=n.right-n.left;return kt(Object(I.b)(t*r,a*r),Ut)}function Wt(n,e){return n+(e.spawned?0:1)}var Kt=Yn((function(n,e,t){var a,r,o=e.cursor,i=t.delta,s=t.actions,c=t.lanes;if(c.has(Et))return!1;var l=n.physics.pos,u=o.relPos,d=u.x-l.x,f=u.y-l.y,h=null!==(a=s[It])&&void 0!==a?a:Ht,p=h.until,m=h.forced;if(p=Cn(p,i),!m&&p<=0){if(f>=0&&f>Ft)return!1;if(f<0&&-f>Dt)return!1;if(Tt(d)>Ut)return!1}var v=null!==(r=s[It])&&void 0!==r?r:Object(M.c)((function(){return n.brain.retaliationTimer=Un(250,Nt),{horizDiff:0,vertDiff:0,until:0,forced:!1}}));return v.horizDiff=d,v.vertDiff=f,v.until=p>0?p:Un(500,500),v.forced=!1,n.actions[It]=v,c.add(Et),!0}),[function(n,e,t){var a=e.bounds,r=t.actions,o=t.lanes;if(!o.has(St)&&!o.has(Rt)){var i=n.physics.pos,s=n.brain,c=kt(i.x-Lt-a.left,0),l=kt(-1*(i.x+Lt-a.right),0),u=r[Vt];if("undefined"===typeof u)if(c<=0)u={edgeFleeDistance:Qt(a,Ct),edgeFleeFacing:_n.right};else{if(!(l<=0))return;u={edgeFleeDistance:Qt(a,Ct),edgeFleeFacing:_n.left}}var d=u,f=d.edgeFleeDistance,h=d.edgeFleeFacing;switch(h){case _n.right:if(c>=f)return;s.facing=h,s.moving=Hn.yes;break;case _n.left:if(l>=f)return;s.facing=h,s.moving=Hn.yes}n.actions[Vt]=u,o.add(St),o.add(Rt)}},function(n,e,t){var a,r=t.delta,o=t.actions,i=t.lanes;if(!i.has(St)&&!i.has(Rt)){var s=n.brain,c=n.actions[It].horizDiff,l=null!==(a=o[Jt])&&void 0!==a?a:{lastFacing:_n.left,holdTimer:0};l.holdTimer=Cn(l.holdTimer,r),s.moving=Hn.yes,s.facing=Object(M.c)((function(){if(l.holdTimer>0)return l.lastFacing;var n=c>=0?_n.left:_n.right;return l.lastFacing=n,l.holdTimer=Un(75,125),n})),n.actions[Jt]=l,i.add(St),i.add(Rt)}},function(n,e,t){var a=e.cursor,r=t.lanes;if(r.has(St)&&!r.has(At)){var o=n.brain,i=n.physics.onGround,s=n.actions[It].vertDiff;if(!Object(M.c)((function(){return!!i&&(!(s<=zt)&&tt(n,a.relPos,!1)===Nn.up)})))return!1;o.shooting=Nn.up,r.add(At)}},function(n,e,t){var a,r=e.cursor,o=t.actions,i=t.lanes;if(i.has(St)&&!i.has(At)){var s=n.brain,c=n.physics.onGround,l=n.actions[It],u=l.horizDiff,d=l.vertDiff,f="undefined"!==typeof o[Yt];if(Object(M.c)((function(){return f?!c:!!c&&(!(s.retaliationTimer>0)&&(!(Tt(u)>Mt)&&(!!I.a.inRange.call(d,-Bt,zt)&&(!!(Tt(u)<=Lt&&I.a.inRange.call(u,0,zt))||(u>0&&s.facing===_n.right||u<0&&s.facing===_n.left)))))}))){var h=null!==(a=o[Yt])&&void 0!==a?a:{facing:s.facing};if(c)s.jumping=In.full;else{s.facing=h.facing,s.moving=Hn.yes;var p=tt(n,r.relPos);p===Nn.down&&(s.shooting=p)}n.actions[It].forced=!0,n.actions[Yt]=h,i.add(At)}else f&&(n.brain.retaliationTimer=Un(250,Nt))}},function(n,e,t){var a=e.bullets,r=e.cursor,o=t.actions,i=t.lanes;if(i.has(St)&&!i.has(At)){var s=n.brain,c=n.physics,l=c.onGround,u=c.vel,d=n.actions[It],f=d.horizDiff,h=d.vertDiff,p=!0===o[qt];Object(M.c)((function(){return p?!l:!!l&&(!(s.retaliationTimer>0)&&(!(Tt(u.x)<.9*_t)&&(!(a.reduce(Wt,0)<2)&&(!(h<Gt)&&(!(Tt(f)<=2*Lt)&&(f>0&&s.facing===_n.left||f<0&&s.facing===_n.right))))))}))?(l?s.jumping=h>=40?In.full:In.weak:(s.facing=f>=0?_n.right:_n.left,s.moving=Hn.drift,s.shooting=tt(n,r.relPos)),n.actions[It].forced=!0,n.actions[qt]=!0,i.add(At)):p&&(n.brain.retaliationTimer=Un(250,Nt))}}]),Xt=t("rZkV"),Zt=t.n(Xt),$t=t("oG9Y"),na=t.n($t),ea=t("Dcj1"),ta=t.n(ea),aa=Math.min,ra=Math.max,oa=Math.abs,ia=xe.behaviorFinalized,sa=xe.handledMovement,ca=xe.didAttack,la=ke,ua=Ee.jumpOverDistance,da=Ee.comfortable,fa=Object(M.c)((function(){var n=Ee.flee.above,e=Ee.sideReachableBounds.top;return ra(n,e)})),ha=Ee.flee.below,pa=Ee.sideReachableBounds.bottom,ma=Pn()("nateActions_Chase/shootFromBelow"),va=Pn()("nateActions_Chase/shootFromBelow/approachToShootUp"),ga=Pn()("nateActions_Chase/shootFromAbove/passOverCursor"),ba=Pn()("nateActions_Chase/comfortableShooting/stayComfortable"),ya=Pn()("nateActions_Chase/comfortableShooting/takeShots");function ja(n,e,t){var a,r,o=e.cursor,i=e.bounds,s=t.actions,c=t.lanes;if(c.has(ca))return!1;var l=o.relPos,u=i.left,d=i.right,f=i.ground;if(l.y<=fa+f)return!1;if(!(a=l.x,I.a.inRange).call(a,u,d))return!1;var h=null!==(r=s[ma])&&void 0!==r?r:{doShooting:!1};return h.doShooting=tt(n,o.relPos,!1)===Nn.up,n.actions[ma]=h,c.add(ca),!0}function xa(n,e,t){var a,r=t.actions,o=t.delta;n.brain.lookingUp=!0;var i=null!==(a=r[va])&&void 0!==a?a:{retargetTimer:0,didShoot:!1};n.actions[ma].doShooting?(i.didShoot||(i.retargetTimer=Un(50,300)),i.didShoot=!0):(i.retargetTimer<=0&&qe(n,e,t),i.retargetTimer=Cn(i.retargetTimer,o),i.didShoot=!1),n.actions[va]=i}function Oa(n){var e=n.brain;n.actions[ma].doShooting&&(e.shootCoolDown>0||(e.shooting=Nn.up))}var wa=Object(M.c)((function(){var n=rt(0,1e3,"nateActions_Chase/randomJumpRefined");return Yn(ja,[xa,Oa,function(e,t,a){var r=t.cursor.relPos,o=t.bounds.ground;e.actions[ma].doShooting&&(r.y-o<=2*fa||n(e,t,a))}])}));function ka(n,e,t){var a,r=e.cursor,o=e.bounds,i=t.lanes;if(i.has(ca))return!1;var s=r.relPos,c=o.left,l=o.right,u=o.ground;return!(s.y>=u-ha)&&(!!(a=s.x,I.a.inRange).call(a,c,l)&&(i.add(ca),!0))}function Ta(n,e){var t=e.cursor,a=n.physics,r=a.onGround,o=a.pos,i=n.brain,s=t.relPos.x-o.x;r&&(oa(s)>=ua||s>=0&&i.facing!==_n.right||s<0&&i.facing!==_n.left||(i.jumping=In.full))}function Ra(n,e){var t=e.cursor,a=n.brain;tt(n,t.relPos)===Nn.down&&(a.shooting=Nn.down)}var Ea=Object(M.c)((function(){var n=H()({approaching:Pn()("approaching"),jumping:Pn()("jumping"),runOff:Pn()("runOff")});return Yn(ka,[Ta,Ra,function(e,t,a){var r,o=e.physics,i=o.onGround,s=o.pos,c=e.brain,l=t.bounds,u=a.delta,d=a.lanes;if(!d.has(sa)){var f=null!==(r=a.actions[ga])&&void 0!==r?r:{curState:n.approaching,runOffTimer:0};switch(f.curState){case n.approaching:i?qe(e,t,a):f.curState=n.jumping;break;case n.jumping:c.moving=Hn.yes,i&&(f.curState=n.runOff,f.runOffTimer=Un(0,150));break;case n.runOff:f.curState=Object(M.c)((function(){var e=s.x-la,t=s.x+la;return e<=l.left||t>=l.right||f.runOffTimer<=0?n.approaching:(f.runOffTimer=Cn(f.runOffTimer,u),c.moving=Hn.yes,n.runOff)}))}e.actions[ga]=f,d.add(sa)}}])}));function Sa(n,e,t){var a=n-da.max,r=n-da.min;if(t||r>=e.left)return[ra(a,e.left),ra(r,e.left)]}function Aa(n,e,t){var a=n+da.min,r=n+da.max;if(t||a<=e.right)return[aa(a,e.right),aa(r,e.right)]}function Pa(n,e,t){var a=t.lanes;return!a.has(ca)&&(a.add(ca),!0)}function Fa(n,e,t){var a,r,o=e.bounds,i=e.cursor,s=t.actions,c=t.lanes;if(!c.has(sa)){var l=n.physics.pos,u=n.brain,d=i.relPos,f=function(n,e,t){var a,r,o=n.x,i=e.x;return o>=i?null!==(a=Aa(i,t,!1))&&void 0!==a?a:Sa(i,t,!0):null!==(r=Sa(i,t,!1))&&void 0!==r?r:Aa(i,t,!0)}(l,d,o),h=Object(_.a)(f,2),p=h[0],m=h[1],v=null!==(a=s[ba])&&void 0!==a?a:{chosenSpot:Object(I.b)(p,m)};(r=v.chosenSpot,I.a.inRange).call(r,p,m)||(v.chosenSpot=Object(I.b)(p,m));var g=d.x>l.x?_n.right:_n.left;Object(M.c)((function(){var n,e=l.x-la,t=l.x+la;return!(n=v.chosenSpot,I.a.inRange).call(n,e,t)&&(!(n=d.x,I.a.inRange).call(n,l.x,v.chosenSpot)&&(!(g===_n.left&&e<=o.left||g===_n.right&&t>=o.right)||void 0))}))?(u.facing=v.chosenSpot>l.x?_n.right:_n.left,u.moving=Hn.yes):u.facing=g,n.actions[ba]=v,c.add(sa)}}function Da(n,e,t){var a,r=e.cursor,o=e.bounds,i=t.delta,s=t.actions,c=n.physics,l=c.pos,u=c.onGround,d=n.brain,f=r.relPos,h=o.ground;if((f.x>l.x?_n.right:_n.left)===d.facing){var p=null!==(a=s[ya])&&void 0!==a?a:{jumpTimer:0},m=tt(n,f,!1);if(m!==Nn.none)d.shootCoolDown<=0&&(d.shooting=m);else if(u&&(p.jumpTimer=Cn(p.jumpTimer,i),p.jumpTimer<=0&&f.y>=pa+h)){var v=f.y-l.y;d.jumping=v>=50?In.full:In.weak,p.jumpTimer=Un(50,200)}n.actions[ya]=p}}var Ua=Object(M.c)((function(){return Yn(Pa,[Fa,Da])})),Ca=Yn((function(n,e,t){var a=t.lanes;return!a.has(ia)&&(a.add(ia),!0)}),[wa,Ea,Ua]);function Ma(n,e){var t="undefined"!=typeof Pn.a&&ta()(n)||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){var t;if("string"==typeof n)return Ba(n,e);var a=Zt()(t={}.toString.call(n)).call(t,8,-1);return"Object"===a&&n.constructor&&(a=n.constructor.name),"Map"===a||"Set"===a?na()(n):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ba(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var a=0,r=function(){};return{s:r,n:function(){return a>=n.length?{done:!0}:{done:!1,value:n[a++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){s=!0,o=n},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw o}}}}function Ba(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,a=Array(e);t<e;t++)a[t]=n[t];return a}var Ga=Math.round,La=Math.abs,za=Math.random,_a=xe.behaviorFinalized,Na=xe.isFrustrated,Ha=xe.handledMovement,Ia=De,Va=Ue,Ja=Ce,Ya=Ja.start,qa=Ja.added,Qa=Me.shortTimes,Wa=Qa.start,Ka=Qa.added,Xa=Me.longTimes,Za=Xa.start,$a=Xa.added,nr=Ee.stareAtOffset,er=Ee.stareUpRange,tr=er.min,ar=er.max,rr=Te,or=ke,ir=Pn()("nateActions_Boredom/boredomBehavior"),sr=Pn()("nateActions_Boredom/boredomBehavior/beFrustrated"),cr=Pn()("nateActions_Boredom/boredomBehavior/beFrustrated/stomp"),lr=Pn()("nateActions_Boredom/boredomBehavior/beFrustrated/backAndForth"),ur=Pn()("nateActions_Boredom/boredomBehavior/beFrustrated/pretendNotToCare"),dr=Pn()("nateActions_Boredom/boredomBehavior/beFrustrated/spazzOut"),fr=Pn()("nateActions_Boredom/boredomBehavior/beFrustrated/momentarilyAggressive");function hr(n,e){var t,a=e.left,r=e.right-a,o=e.left+.5*r;return(t=n.x,I.a.inRange).call(t,a,o)?_n.right:_n.left}function pr(n,e,t){var a=n.x-or,r=n.x+or;return e===_n.left&&a<=t.left||e===_n.right&&r>=t.right}var mr={notApplicable:Pn()("notApplicable"),continue:Pn()("continue"),done:Pn()("done")},vr={stomp:function(n,e,t){var a,r=t.delta,o=t.actions,i=n.physics.onGround,s=n.brain,c=null!==(a=o[cr])&&void 0!==a?a:{actionTimer:Un(Wa,Ka),jumpTimer:0};return i&&c.actionTimer<=0?mr.done:(i&&(c.jumpTimer>0?c.jumpTimer=Cn(c.jumpTimer,r):(s.jumping=In.weak,c.jumpTimer=Un(50,100))),c.actionTimer=Cn(c.actionTimer,r),n.actions[cr]=c,mr.continue)},backAndForth:function(n,e,t){var a,r=e.bounds,o=t.delta,i=t.actions,s=n.physics.pos,c=n.brain,l=null!==(a=i[lr])&&void 0!==a?a:{facing:hr(s,r),actionTimer:Un(Wa,Ka),runTimer:Un(250,500)},u=l.actionTimer<=0,d=l.runTimer<=0||pr(s,l.facing,r);return l.actionTimer=Cn(l.actionTimer,o),l.runTimer=Cn(l.runTimer,o),d&&(u||(l.facing=l.facing===_n.right?_n.left:_n.right),l.runTimer=Un(250,500)),c.moving=Hn.yes,c.facing=l.facing,n.actions[lr]=l,u&&d?mr.done:mr.continue},pretendNotToCare:function(n,e,t,a){var r,o=e.cursor,i=e.bounds,s=t.delta,c=t.actions;if(a.pretendedNotToCare)return mr.notApplicable;var l=n.physics.pos,u=n.brain,d=o.relPos.x-l.x,f=null!==(r=c[ur])&&void 0!==r?r:{lastFacing:d>=0?_n.left:_n.right,runTimer:Un(500,500),waitTimer:Un(Za,$a),repositionTimer:0};if(f.runTimer>0){var h=pr(l,f.lastFacing,i);h||(u.moving=Hn.yes),u.facing=f.lastFacing,f.runTimer=h?0:Cn(f.runTimer,s)}else{var p=d>=0?_n.left:_n.right;p!==f.lastFacing&&(f.repositionTimer=Un(50,150),f.lastFacing=p),f.repositionTimer<=0&&(u.facing=f.lastFacing),f.repositionTimer=Cn(f.repositionTimer,s),f.waitTimer=Cn(f.waitTimer,s)}return n.actions[ur]=f,f.waitTimer<=0?(a.pretendedNotToCare=!0,mr.done):mr.continue},spazzOut:function(n,e,t){var a,r=t.delta,o=t.actions,i=n.physics.onGround,s=n.brain,c=null!==(a=o[dr])&&void 0!==a?a:{jumpsRemaining:Ga(Object(I.b)(2,4)),moveTimer:Un(32,32)};if(i&&0===c.jumpsRemaining)return mr.done;var l=c.moveTimer<=0;return c.moveTimer=Cn(c.moveTimer,r),i&&(s.jumping=In.full,c.jumpsRemaining-=1),s.shooting=Object(M.c)((function(){var n=za();return n<.5?Nn.ahead:n<.75||i?Nn.up:Nn.down})),s.moving=Hn.yes,l&&(s.facing=s.facing===_n.right?_n.left:_n.right,c.moveTimer=Un(32,48)),n.actions[dr]=c,mr.continue},momentarilyAggressive:function(n,e,t){var a,r=e.cursor,o=e.bounds,i=t.delta,s=t.actions,c=t.lanes;if(!at(r.relPos,o))return mr.notApplicable;var l=null!==(a=s[fr])&&void 0!==a?a:{timer:Un(Za,$a)};return l.timer<=0?mr.done:(c.delete(_a),Ca(n,e,t),l.timer=Cn(l.timer,i),n.actions[fr]=l,mr.continue)}};var gr=Yn((function(n,e,t){var a,r=e.cursor,o=e.bounds,i=t.actions,s=t.lanes;if(s.has(_a))return!1;if(!function(n,e){return n.msSinceUpdate>=Ia||!at(n.relPos,e)}(r,o))return!1;var c=null!==(a=i[ir])&&void 0!==a?a:{boredomTimer:Va};return n.actions[ir]=c,s.add(_a),!0}),[function(n,e,t){var r;if(!(n.actions[ir].boredomTimer<=0)){var o=t.delta,i=t.lanes,c=t.actions;if(!i.has(Ha)){var l,u,d,f,h=null!==(r=c[sr])&&void 0!==r?r:{inPosition:!1,repositionTimer:0,stareTimer:Un(Ya,qa),subAction:je.b,lastResult:mr.notApplicable,pretendedNotToCare:!1},p=h.inPosition&&h.stareTimer<=0;if(p&&(!function(n,e,t,a){var r;if(a.lastResult===mr.continue&&(r=a.subAction,je.a.isDefined).call(r))a.lastResult=vr[a.subAction](n,e,t,a);else{var o,i=Ma((r=s()(vr),L.a.shuffle).call(r));try{for(i.s();!(o=i.n()).done;){var c=o.value,l=vr[c](n,e,t,a);if(l!==mr.notApplicable)return a.subAction=c,void(a.lastResult=l)}}catch(u){i.e(u)}finally{i.f()}a.subAction=je.b,a.lastResult=mr.notApplicable}}(n,e,t,h),h.lastResult!==mr.continue&&(h.stareTimer=Un(Ya,qa))),!p||h.lastResult===mr.notApplicable){var m,v=n.physics.pos,g=n.brain,b=e.cursor.relPos,y=e.bounds,j=y.left,x=y.right,O=v.x-or,w=v.x+or,k=(m=b.x-nr,I.a.clamp).call(m,j,x),T=b.x+I.a.clamp.call(nr,j,x),R=b.x-v.x,E=h.repositionTimer<=0,S=(l=O,u=w,d=k,f=T,!!I.a.inRange.call(l,d,f)||!!I.a.inRange.call(u,d,f)),A=La(R)<.4*nr;S?A?E&&(g.facing=hr(v,e.bounds),g.moving=Hn.yes):E&&(g.facing=R>=0?_n.right:_n.left,h.repositionTimer=Un(50,150)):E&&(g.facing=R>=0?_n.right:_n.left,g.moving=Hn.yes),g.lookingUp=function(n,e,t){var r,o=n.x,i=n.y;i+=rr;var s=M.d.copyOwn.call(e);return s.x-=o,s.y-=i,t&&(s.x*=-1),(r=a.angle.call(s),I.a.angleInRange).call(r,tr,ar)}(v,b,g.facing===_n.left),h.inPosition&&(h.stareTimer=Cn(h.stareTimer,o)),E||(h.repositionTimer=Cn(h.repositionTimer,o)),h.inPosition=h.inPosition||S}n.actions[sr]=h,i.add(Na),i.add(Ha)}}},function(n,e,t){if(!t.lanes.has(Na)){var a=n.brain;n.sounds[Vn.aroo].play(),a.behavior=Ln.passive,a.pacificationTimer=Un(2e3,1e3)}},function(n,e,t){var a=t.delta,r=n.actions[ir];r.boredomTimer=Cn(r.boredomTimer,a)}]);var br=Yn((function(n){return n.brain.behavior===Ln.aggressive}),[gr,Kt,Ca]),yr=H()([function(n,e){var t=e.bounds;if(!n.spawned){var a=n.physics.pos,r=t.left,o=t.right,i=t.ground;a.x=.5*(o-r)+r,a.y=i+200,n.spawned=!0}},function(n,e,t){var a=n.brain,r=t.delta;a.retaliationTimer=Cn(a.retaliationTimer,r),a.shootCoolDown=Cn(a.shootCoolDown,r),a.shootHold=Cn(a.shootHold,r)},wt,br,function(n){var e=n.brain,t=n.physics.accel;if(e.moving===Hn.yes){var a=e.facing===_n.right?1:-1;t.x=a*_e}},function(n){var e=n.brain,t=n.physics;t.onGround&&e.jumping!==In.none&&(t.vel.y+=e.jumping===In.full?Ne.full:Ne.weak,t.onGround=!1)},function(n,e,t){var a=e.bounds,r=t.delta,o=n.physics,i=o.vel,s=o.accel,c=o.pos,l=o.onGround,u=n.brain.moving;l||(s.y-=.001),(u!==Hn.drift||l)&&(i.x=Gn(s.x*r,ze*r,i.x)),i.y=i.y+s.y*r,c.x+=i.x*r,c.y+=i.y*r,s.x=s.y=0,c.x-He<a.left&&(c.x=a.left+He),c.x+He>a.right&&(c.x=a.right-He)},function(n,e){var t=e.bounds.ground,a=n.physics,r=n.anim,o=n.sounds,i=a.vel,s=a.pos;s.y<t&&(i.y=0,s.y=t,a.onGround||(a.onGround=!0,r.land=100,o[Vn.land].play()))},function(n,e){var t=e.bullets,r=n.brain,o=n.anim,i=n.physics;if(r.shooting!==Nn.none&&!(r.shootCoolDown>0)){var s,c=ge()(t).call(t,Qe);if("undefined"!==typeof c)(s=Ge(r.shooting,n),je.a.forEach).call(s,(function(n){var e,t=n.x,s=n.y,l=i.pos,u=l.x,d=l.y,f=r.shooting===Nn.ahead?r.facing:r.shooting;r.facing===_n.left&&(t*=-1),r.aiming=r.shooting,r.shootCoolDown=Ie,r.shootHold=Ve,o.recoil=!0,c.spawned=!0,c.initialized=!1,(e=c.nodes[0].pos,a.setXY).call(e,u+t,d+s),c.trajectory=(e=Jn[f],M.d.copyOwn).call(e)}))}},function(n,e,t){var a=t.delta,r=n.physics,o=r.vel,i=r.onGround,s=n.brain,c=s.moving,l=s.facing,u=s.lookingUp,d=n.anim,f=[];i?c===Hn.yes?f.push("run"):(f.push("idle"),u&&f.push("look-up")):(f.push("jump"),o.y<-.055?f.push("fall"):o.y<.055&&f.push("apex")),d.land=Cn(d.land,a),d.land>0&&(ye()(f).call(f,"idle")?f.push("land"):d.land=0),l===_n.left&&f.push("mirror"),d.main=f},function(n,e,t){var a,r=t.actions,o=n.brain,i=o.aiming,s=o.shootHold,c=n.anim,l=null!==(a=r[Ye])&&void 0!==a?a:{lastAiming:Nn.none},u=[];s>0&&i!==Nn.none&&(i===Nn.ahead?u.push("shoot-side"):i===Nn.up?u.push("shoot-up"):i===Nn.down&&u.push("shoot-down"),c.recoil=Object(M.c)((function(){var n;return!!c.recoil&&!(s<Je)&&i===l.lastAiming&&!!ye()(n=c.main).call(n,"idle")})),c.recoil&&u.push("recoil")),c.shoot=u,l.lastAiming=i,n.actions[Ye]=l},function(n){var e=n.brain;e.moving=Hn.no,e.lookingUp=!1,e.jumping=In.none,e.shooting=Nn.none}]),jr=t("LK4Q"),xr=t("39/O"),Or=t("4FKG"),wr=t("loi1"),kr=t("0izT"),Tr=["onPreload","onLoad","onError"],Rr=C.a.createElement;function Er(n,e,t){return e=Object(j.a)(e),Object(y.a)(n,function(){try{var n=!Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){})))}catch(n){}return function(){return!!n}()}()?o()(e,t||[],Object(j.a)(n).constructor):e.apply(n,t))}function Sr(n){n.onPreload,n.onLoad,n.onError;return Object(xr.a)(n,Tr)}function Ar(n){var e=this.props,t=e.onPreload,a=e.onLoad,r=e.onError,o=this.state,i=o.error,s=o.preloaded;t===n.onPreload||s||i||null===t||void 0===t||t(),a!==n.onLoad&&s&&!i&&(null===a||void 0===a||a(!0)),r!==n.onError&&i&&(null===r||void 0===r||r(i,!0))}function Pr(){this.didUnmount=!0}function Fr(){var n=this.handlePreload,e=this.handleLoad,t=this.handleError,a=this.state,r=a.preloaded,o=a.error,i=this.getPreloaderProps(this.props);return Rr(wr.a,{preloaded:r,error:o},Rr(Or.a,Object(jr.a)({},i,{onPreload:n,onLoad:e,onError:t})))}var Dr=function(n){function e(){var n,t;Object(g.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=Er(this,e,R()(n=[]).call(n,r)),Object(O.a)(t,"state",{preloaded:!1,error:null}),Object(O.a)(t,"didUnmount",!1),Object(O.a)(t,"getPreloaderProps",Object(kr.a)(Sr)),Object(O.a)(t,"handlePreload",(function(){var n,e;null===(n=(e=t.props).onPreload)||void 0===n||n.call(e),t.didUnmount||t.state.preloaded&&t.setState({preloaded:!1,error:null})})),Object(O.a)(t,"handleLoad",(function(n){var e,a;null===(e=(a=t.props).onLoad)||void 0===e||e.call(a,n),t.didUnmount||t.setState({preloaded:!0})})),Object(O.a)(t,"handleError",(function(n,e){var a,r;return!0===(null===(a=(r=t.props).onError)||void 0===a?void 0:a.call(r,n,e))&&!e||(t.didUnmount||t.setState({preloaded:!0,error:n}),!1)})),t}return Object(x.a)(e,n),Object(b.a)(e,[{key:"componentDidUpdate",value:Ar},{key:"componentWillUnmount",value:Pr},{key:"render",value:Fr}])}(C.a.PureComponent);function Ur(n,e,t){return e=Object(j.a)(e),Object(y.a)(n,function(){try{var n=!Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){})))}catch(n){}return function(){return!!n}()}()?o()(e,t||[],Object(j.a)(n).constructor):e.apply(n,t))}var Cr=function(n){function e(){return Object(g.a)(this,e),Ur(this,e,arguments)}return Object(x.a)(e,n),Object(b.a)(e)}(t("XSM9").a),Mr=t("+F2F"),Br=t.n(Mr);var Gr=function n(e){return U.Children.toArray(e).reduce((function(e,t){return t.type===U.Fragment?e.concat(n(t.props.children)):(e.push(t),e)}),[])},Lr=["children"],zr=["children"],_r=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=null!=n,r=null!=e;if(!a&&!r)return!0;if(a!==r)return!1;if(Br()(n,e))return!0;var o=C.a.Children.toArray(n),i=C.a.Children.toArray(e);return Nr(o,i,t)},Nr=function(n,e,t){if(n.length!==e.length)return!1;for(var a=0,r=n.length;a<r;a++){var o=n[a],i=e[a];if(!Br()(o,i)){if(!Object(U.isValidElement)(o)||!Object(U.isValidElement)(i))return!1;if(!Br()(o.type,i.type))return!1;if(o.key!==i.key)return!1;if(t){var s=o.props,c=s.children,l=Object(xr.a)(s,Lr),u=i.props,d=u.children,f=Object(xr.a)(u,zr);if(!Object(M.b)(l,f))return!1;if(!_r(c,d,!0))return!1}else if(!Object(M.b)(o.props,i.props))return!1}}return!0},Hr=["src","audioRef"],Ir=["asSource"],Vr=C.a.createElement;function Jr(n,e,t){return e=Object(j.a)(e),Object(y.a)(n,function(){try{var n=!Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){})))}catch(n){}return function(){return!!n}()}()?o()(e,t||[],Object(j.a)(n).constructor):e.apply(n,t))}function Yr(n){var e=n.src;n.audioRef;return{src:e,audioProps:Object(xr.a)(n,Hr)}}function qr(n){var e=this;this.props.src!==n.src&&this.setState({preloaded:!1,error:null},(function(){var n;return null===(n=e.audioEl)||void 0===n?void 0:n.load()}))}function Qr(){this.didUnmount=!0}function Wr(){var n=this.checkReadiness,e=this.onCanPlayThrough,t=this.onError,a=this.state,r=a.preloaded,o=a.error,i=this.decomposeProps(this.props),s=i.src,c=i.audioProps;return s?Vr(wr.a,{preloaded:r,error:o},Vr("audio",Object(jr.a)({},c,{ref:n,src:s,onCanPlayThrough:e,onError:t}))):null}var Kr=function(n){function e(){var n,t;Object(g.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=Jr(this,e,R()(n=[]).call(n,r)),Object(O.a)(t,"state",{preloaded:!t.props.src,error:null}),Object(O.a)(t,"didUnmount",!1),Object(O.a)(t,"audioEl",null),Object(O.a)(t,"decomposeProps",Object(kr.a)(Yr)),Object(O.a)(t,"checkReadiness",(function(n){var e=t,a=e.props.audioRef,r=e.state.preloaded;t.audioEl=n,a&&(M.g.func.call(a)?a(n):a.current=n);var o=(null===n||void 0===n?void 0:n.readyState)===HTMLMediaElement.HAVE_ENOUGH_DATA;o!==r&&(o?t.setState({preloaded:!0}):t.setState({preloaded:!1,error:null}))})),Object(O.a)(t,"onCanPlayThrough",(function(){t.didUnmount||t.setState({preloaded:!0})})),Object(O.a)(t,"onError",(function(){var n;if(!t.didUnmount){var e=t.props.src,a=d()(n=["sound failed to load",e]).call(n,Boolean).join(": ");t.setState({preloaded:!0,error:new Cr(a)})}})),t}return Object(x.a)(e,n),Object(b.a)(e,[{key:"componentDidUpdate",value:qr},{key:"componentWillUnmount",value:Qr},{key:"render",value:Wr}])}(C.a.PureComponent);function Xr(n,e){var t=Vr("source",{src:n,type:e}),a=function(a){var r=a.asSource,o=Object(xr.a)(a,Ir);return r?t:e?Vr(ni,o,t):Vr(Kr,Object(jr.a)({},o,{src:n}))};return a.displayName='importedSound("'.concat(n,'")'),a.isImportedSound=!0,a}var Zr=Kr,$r=["children","src","audioRef"],no=["children"],eo=["children"],to=C.a.createElement;function ao(n,e,t){return e=Object(j.a)(e),Object(y.a)(n,function(){try{var n=!Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){})))}catch(n){}return function(){return!!n}()}()?o()(e,t||[],Object(j.a)(n).constructor):e.apply(n,t))}function ro(n){return{children:n.children,src:n.src,audioRef:n.audioRef,audioProps:Object(xr.a)(n,$r)}}function oo(){return this.sourcesChanged=!0,!0}function io(n,e){var t=n.children,a=Object(xr.a)(n,no),r=this.props,o=r.children,i=Object(xr.a)(r,eo);return function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=null!=n,r=null!=e;if(!a&&!r)return!0;if(a!==r)return!1;if(Br()(n,e))return!0;var o=Gr(n),i=Gr(e);return Nr(o,i,t)}(o,t)?!Object(M.b)(i,a)||!Object(M.b)(this.state,e):this.childrenDiffer()}function so(){var n=this;this.sourcesChanged&&(this.sourcesChanged=!1,this.setState({preloaded:!1,error:null},(function(){var e;return null===(e=n.audioEl)||void 0===e?void 0:e.load()})))}function co(){var n=this.checkReadiness,e=this.onCanPlayThrough,t=this.onError,a=this.state,r=a.preloaded,o=a.error,i=this.decomposeProps(this.props),s=i.children,c=i.src,l=i.audioRef,u=i.audioProps;return c?to(Zr,Object(jr.a)({},u,{audioRef:l,src:c})):to(wr.a,{preloaded:r,error:o},to("audio",Object(jr.a)({},u,{ref:n,onCanPlayThrough:e,onError:t}),s))}var lo,uo,fo,ho,po,mo,vo,go,bo,yo,jo,xo,Oo,wo,ko,To,Ro,Eo,So,Ao,Po,Fo,Do,Uo,Co,Mo,Bo,Go,Lo,zo,_o,No,Ho,Io,Vo,Jo,Yo,qo,Qo,Wo,Ko,Xo,Zo=function(n){function e(){var n,t;Object(g.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=ao(this,e,R()(n=[]).call(n,r)),Object(O.a)(t,"state",{preloaded:!1,error:null}),Object(O.a)(t,"audioEl",null),Object(O.a)(t,"sourcesChanged",!1),Object(O.a)(t,"didUnmount",!1),Object(O.a)(t,"decomposeProps",Object(kr.a)(ro)),Object(O.a)(t,"checkReadiness",(function(n){var e=t,a=e.props.audioRef,r=e.state.preloaded;t.audioEl=n,a&&(M.g.func.call(a)?a(n):a.current=n);var o=(null===n||void 0===n?void 0:n.readyState)===HTMLMediaElement.HAVE_ENOUGH_DATA;o!==r&&(o?t.setState({preloaded:!0}):t.setState({preloaded:!1,error:null}))})),Object(O.a)(t,"onCanPlayThrough",(function(){t.didUnmount||t.setState({preloaded:!0})})),Object(O.a)(t,"onError",(function(){var n;if(!t.didUnmount){var e=$o(t.props.children),a=d()(n=["sound failed to load",e]).call(n,Boolean).join(": ");t.setState({preloaded:!0,error:new Cr(a)})}})),t}return Object(x.a)(e,n),Object(b.a)(e,[{key:"childrenDiffer",value:oo},{key:"shouldComponentUpdate",value:io},{key:"componentDidUpdate",value:so},{key:"render",value:co}])}(C.a.Component),$o=function(n){var e=null;return C.a.Children.forEach(n,(function(n){if(!e){var t=function(n){var e;if(!n)return null;var t=n.type,a=n.props;return(e=null===a||void 0===a?void 0:a.src,M.g.string).call(e)?a.src:(e=null===t||void 0===t?void 0:t.src,M.g.string).call(e)?t.src:null}(n);t&&(e=t)}})),e},ni=Zo,ei=t("o7Sl"),ti=t("7QGR"),ai=t("MX0m"),ri=t.n(ai),oi=t("YJ0Z"),ii=Object(oi.a)("/static/images/nate-game/nate_sprite.png",312,416,"image/png"),si=Object(oi.a)("/static/images/nate-game/bullet_sprite.png",18,27,"image/png"),ci=Object(oi.a)("/static/images/nate-game/bullet_burst_sprite.png",17,34,"image/png"),li=C.a.createElement,ui=[52,52],di=[-26,5],fi=[9,9],hi=[17,17],pi="\n  image-rendering: -moz-crisp-edges;\n  image-rendering: -o-crisp-edges;\n  image-rendering: -webkit-optimize-contrast;\n  image-rendering: crisp-edges;\n  -ms-interpolation-mode: nearest-neighbor;\n",mi=function(n,e,t){var a,r=Object(_.a)(n,2),o=r[0],i=r[1];return R()(a="background-position: ".concat(e*-o,"px ")).call(a,t*-i,"px;")},vi=function(n,e){var t=Object(_.a)(n,2)[1];return"background-position-y: ".concat(t*-e,"px;")},gi=function(n,e){var t=Object(_.a)(n,1)[0];return"background-position-x: ".concat(t*-e,"px;")},bi=function(n){var e,t=Object(_.a)(n,2),a=t[0],r=t[1];return R()(e="width: ".concat(a,"px; height: ")).call(e,r,"px;")},yi=function(n){var e,t=Object(_.a)(n,2),a=t[0],r=t[1];return R()(e="translate(".concat(a,"px, ")).call(e,r,"px)")},ji=function(n){var e=Object(_.a)(n,2),t=e[0],a=e[1];return yi([-Math.ceil(.5*t),Math.ceil(.5*a)])},xi={styles:li(ri.a,{id:"1737044525"},[R()(lo="@-webkit-keyframes run-cycle-jsx-1737044525{0%{".concat(gi(ui,0),";}100%{")).call(lo,gi(ui,6),";}}"),R()(uo="@keyframes run-cycle-jsx-1737044525{0%{".concat(gi(ui,0),";}100%{")).call(uo,gi(ui,6),";}}"),R()(fo="@-webkit-keyframes jump-cycle-jsx-1737044525{0%{".concat(gi(ui,0),";}100%{")).call(fo,gi(ui,1),";}}"),R()(ho="@keyframes jump-cycle-jsx-1737044525{0%{".concat(gi(ui,0),";}100%{")).call(ho,gi(ui,1),";}}"),R()(po="@-webkit-keyframes fall-cycle-jsx-1737044525{0%{".concat(gi(ui,3),";}100%{")).call(po,gi(ui,4),";}}"),R()(mo="@keyframes fall-cycle-jsx-1737044525{0%{".concat(gi(ui,3),";}100%{")).call(mo,gi(ui,4),";}}"),R()(vo=R()(go=R()(bo=R()(yo=R()(jo="*.jsx-1737044525{".concat(pi," ")).call(jo,bi(ui)," position:absolute;z-index:3;background:url('")).call(yo,ii.src,"');-webkit-transform:")).call(bo,yi(di),";-ms-transform:")).call(go,yi(di),";transform:")).call(vo,yi(di),";}"),"*.idle.jsx-1737044525{".concat(mi(ui,0,0),";}"),"*.idle.look-up.jsx-1737044525{".concat(mi(ui,1,0),";}"),"*.idle.shoot-up.jsx-1737044525{".concat(mi(ui,4,0),";}"),"*.idle.shoot-up.recoil.jsx-1737044525{".concat(mi(ui,5,0),";}"),"*.idle.shoot-side.jsx-1737044525{".concat(mi(ui,2,0),";}"),"*.idle.shoot-side.recoil.jsx-1737044525{".concat(mi(ui,3,0),";}"),"*.idle.land.jsx-1737044525{".concat(mi(ui,5,4),";}"),"*.idle.land.shoot-side.jsx-1737044525{".concat(mi(ui,5,5),";}"),"*.idle.land.shoot-up.jsx-1737044525{".concat(mi(ui,5,6),";}"),"*.idle.land.shoot-down.jsx-1737044525{".concat(mi(ui,5,7),";}"),"*.run.jsx-1737044525{-webkit-animation:run-cycle-jsx-1737044525 0.75s steps(6) infinite;animation:run-cycle-jsx-1737044525 0.75s steps(6) infinite;".concat(vi(ui,1),";}"),"*.run.shoot-side.jsx-1737044525{".concat(vi(ui,2),";}"),"*.run.shoot-up.jsx-1737044525{".concat(vi(ui,3),";}"),"*.jump.jsx-1737044525{-webkit-animation:jump-cycle-jsx-1737044525 0.125s steps(1) 1 forwards;animation:jump-cycle-jsx-1737044525 0.125s steps(1) 1 forwards;".concat(vi(ui,4),";}"),"*.jump.apex.jsx-1737044525{-webkit-animation:none;animation:none;".concat(gi(ui,2),";}"),"*.jump.fall.jsx-1737044525{-webkit-animation:fall-cycle-jsx-1737044525 0.125s steps(1) 1 forwards;animation:fall-cycle-jsx-1737044525 0.125s steps(1) 1 forwards;}","*.jump.shoot-side.jsx-1737044525{".concat(vi(ui,5),";}"),"*.jump.shoot-up.jsx-1737044525{".concat(vi(ui,6),";}"),"*.jump.shoot-down.jsx-1737044525{".concat(vi(ui,7),";}"),R()(xo=R()(Oo="*.mirror.jsx-1737044525{-webkit-transform:".concat(yi(di)," scale(-1.0,1.0);-ms-transform:")).call(Oo,yi(di)," scale(-1.0,1.0);transform:")).call(xo,yi(di)," scale(-1.0,1.0);}"),"*.despawned.jsx-1737044525{display:none;}"]),className:"jsx-1737044525"},Oi={styles:li(ri.a,{id:"2546169153"},[R()(wo="@-webkit-keyframes bullet-flight-jsx-2546169153{0%{".concat(gi(fi,0),";}100%{")).call(wo,gi(fi,2),";}}"),R()(ko="@keyframes bullet-flight-jsx-2546169153{0%{".concat(gi(fi,0),";}100%{")).call(ko,gi(fi,2),";}}"),R()(To="@-webkit-keyframes bullet-burst-jsx-2546169153{0%{".concat(vi(hi,0),";}100%{")).call(To,vi(hi,1),";}}"),R()(Ro="@keyframes bullet-burst-jsx-2546169153{0%{".concat(vi(hi,0),";}100%{")).call(Ro,vi(hi,1),";}}"),R()(Eo=R()(So=R()(Ao=R()(Po=R()(Fo="*.bullet.jsx-2546169153{".concat(pi," ")).call(Fo,bi(fi)," position:absolute;background:url('")).call(Po,si.src,"');-webkit-transform:")).call(Ao,ji(fi),";-ms-transform:")).call(So,ji(fi),";transform:")).call(Eo,ji(fi),";-webkit-animation:bullet-flight-jsx-2546169153 0.2s steps(2) infinite;animation:bullet-flight-jsx-2546169153 0.2s steps(2) infinite;}"),"*.node-1.jsx-2546169153{z-index:7;}","*.node-2.jsx-2546169153{z-index:6;".concat(vi(fi,1),";}"),"*.node-3.jsx-2546169153{z-index:5;".concat(vi(fi,2),";}"),R()(Do=R()(Uo=R()(Co=R()(Mo=R()(Bo="*.bullet-burst.jsx-2546169153{".concat(pi," ")).call(Bo,bi(hi)," position:absolute;z-index:4;background:url('")).call(Mo,ci.src,"');-webkit-transform:")).call(Co,ji(hi),";-ms-transform:")).call(Uo,ji(hi),";transform:")).call(Do,ji(hi),";-webkit-animation:bullet-burst-jsx-2546169153 0.075s steps(1) 1 forwards;animation:bullet-burst-jsx-2546169153 0.075s steps(1) 1 forwards;}"),"*.despawned.jsx-2546169153{display:none;}"]),className:"jsx-2546169153"},wi=Xr("/static/sounds/nate-game/bow-wow.ogg","audio/ogg; codecs=vorbis"),ki=Xr("/static/sounds/nate-game/bow-wow.mp3","audio/mpeg"),Ti=Xr("/static/sounds/nate-game/aroo.ogg","audio/ogg; codecs=vorbis"),Ri=Xr("/static/sounds/nate-game/aroo.mp3","audio/mpeg"),Ei=Xr("/static/sounds/nate-game/land.ogg","audio/ogg; codecs=vorbis"),Si=Xr("/static/sounds/nate-game/land.mp3","audio/mpeg"),Ai=Xr("/static/sounds/nate-game/pew.ogg","audio/ogg; codecs=vorbis"),Pi=Xr("/static/sounds/nate-game/pew.mp3","audio/mpeg"),Fi=Xr("/static/sounds/nate-game/pop1.ogg","audio/ogg; codecs=vorbis"),Di=Xr("/static/sounds/nate-game/pop1.mp3","audio/mpeg"),Ui=Xr("/static/sounds/nate-game/pop2.ogg","audio/ogg; codecs=vorbis"),Ci=Xr("/static/sounds/nate-game/pop2.mp3","audio/mpeg"),Mi=C.a.createElement;function Bi(n,e){var t=s()(n);if(l.a){var a=l()(n);e&&(a=d()(a).call(a,(function(e){return h()(n,e).enumerable}))),t.push.apply(t,a)}return t}function Gi(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Bi(Object(t),!0).forEach((function(e){Object(O.a)(n,e,t[e])})):m.a?Object.defineProperties(n,m()(t)):Bi(Object(t)).forEach((function(e){Object.defineProperty(n,e,h()(t,e))}))}return n}function Li(n,e,t){return e=Object(j.a)(e),Object(y.a)(n,function(){try{var n=!Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){})))}catch(n){}return function(){return!!n}()}()?o()(e,t||[],Object(j.a)(n).constructor):e.apply(n,t))}var zi="the `Nate` component is not supported by the current browser";function _i(n,e){var t=this;if(!(n<=0)){var a=this.world.bounds,r=a.ref.current;if(r){var o=r.offsetTop,i=e.offsetHeight;a.right=r.offsetWidth,a.ground=i-o}var s=this.world.cursor;if(s.msSinceUpdate<=0){var c=s.absPos,l=c.x,u=c.y,d=e.getBoundingClientRect(),f=d.left,h=d.bottom;s.relPos.x=l-f,s.relPos.y=-(u-h)}s.msSinceUpdate+=n;var p=this.world.nate,m={delta:n,actions:p.actions,lanes:new S.a};this.world.nate.actions={},yr.forEach((function(n){return n(p,t.world,m)}));var v,g=p.physics.pos,b=g.x,y=g.y,j=p.anim,x=j.main,O=j.shoot,w=p.ref.current;w&&(w.className=P()(v=[xi.className,x,O]).call(v).join(" "),w.style.left=(0|b)+"px",w.style.bottom=(0|y)+"px"),this.world.bullets.forEach((function(e){var a={delta:n,lanes:new S.a};me.forEach((function(n){return n(e,t.world,a)}));var r=e.burst>0;e.nodes.forEach((function(n,t){var a=n.ref.current,o=n.pos,i=o.x,s=o.y;if(a){var c=!e.spawned||r&&t>0;os.call(a,"despawned",c),c||(os.call(a,"bullet",!r),os.call(a,"bullet-burst",r),a.style.left=(0|i)+"px",a.style.bottom=(0|s)+"px")}}))}))}}function Ni(){var n=this,e=null;function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=1;break}return t.abrupt("return");case 1:if(n.soundsEnabled){t.next=2;break}return t.abrupt("return");case 2:if(n.world.nate.brain.behavior===Ln.aggressive){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e.pause(),e.currentTime=0,t.next=4,e.play();case 4:t.next=6;break;case 5:t.prev=5,t.catch(3);case 6:case"end":return t.stop()}}),t,null,[[3,5]])}return{play:function(){var n=Object(v.a)(k.a.mark(t));return function(){return n.apply(this,arguments)}}(),ref:function(n){n&&(n.volume=.33),e=n}}}function Hi(n){this.setState((function(e){var t,a,r=Boolean(null!==(t=n.imagesReady)&&void 0!==t?t:e.imagesReady),o=Boolean(null!==(a=n.soundsReady)&&void 0!==a?a:e.soundsReady),i=r&&o;return Gi(Gi({},n),{},{preloadDone:i})}))}function Ii(n,e,t){if(M.g.func.call(e))return e(n);if(t)throw n}function Vi(){var n=this.props,e=n.onPreloadError,t=n.onGameError,a=n.onLoad,r=n.container,o=this.state,i=o.preloadError,s=o.gameError,c=o.preloadDone;switch(this.attachGame(r),!0){case Boolean(i):return this.raiseError(i,e,!0);case Boolean(s):return this.raiseError(s,t,!0)}c&&a&&a()}function Ji(n,e){var t=this.props,a=t.onPreloadError,r=t.onGameError,o=t.onLoad,i=t.container,s=this.state,c=s.preloadError,l=s.gameError,u=s.preloadDone;switch(!0){case Boolean(c||l):case i!==n.container:case u&&!e.preloadDone:this.attachGame(i)}if(c)e.preloadError?a!==n.onPreloadError&&this.raiseError(c,a,!1):this.raiseError(c,a,!0);else if(l)e.gameError?r!==n.onGameError&&this.raiseError(l,r,!1):this.raiseError(l,r,!0);else switch(!0){case u!==e.preloadDone:case o!==n.onLoad:u&&o&&o()}}function Yi(){this.props.container&&this.attachGame(null)}function qi(){var n=this.world.bounds.ref;return Mi("div",{ref:n,className:"ground-plane"})}function Qi(){var n=this.world.nate.ref;return Mi("div",{ref:n,className:"".concat(xi.className," despawned")})}function Wi(){var n,e=Oi.className;return(n=this.world.bullets,z.flatMap).call(n,(function(n,t){var a;return D()(a=n.nodes).call(a,(function(n,a){var r,o;return Mi("div",{key:R()(r="".concat(t,".")).call(r,a),ref:n.ref,className:R()(o="".concat(e," node-")).call(o,a+1," despawned")})}))}))}function Ki(){return Mi(Dr,{onLoad:this.onImagesReady,onError:this.onImagesFailed,display:"never",once:!0},Go||(Go=Mi(ii,null)),Lo||(Lo=Mi(si,null)),zo||(zo=Mi(ci,null)))}function Xi(){var n=this.world,e=n.nate.sounds,t=n.bullets,a=Vn.bark,r=Vn.aroo,o=Vn.land,i=Vn.spawned,s=Vn.hit,c=Vn.timedOut;return Mi(Dr,{onLoad:this.onSoundsReady,onError:this.onSoundsFailed,display:"never",once:!0},Mi(ni,{audioRef:e[a].ref},_o||(_o=Mi(wi,{asSource:!0})),No||(No=Mi(ki,{asSource:!0}))),Mi(ni,{audioRef:e[r].ref},Ho||(Ho=Mi(Ti,{asSource:!0})),Io||(Io=Mi(Ri,{asSource:!0}))),Mi(ni,{audioRef:e[o].ref},Vo||(Vo=Mi(Ei,{asSource:!0})),Jo||(Jo=Mi(Si,{asSource:!0}))),D()(t).call(t,(function(n,e){var t=n.sounds;return Mi(U.Fragment,{key:e},Mi(ni,{audioRef:t[i].ref},Yo||(Yo=Mi(Ai,{asSource:!0})),qo||(qo=Mi(Pi,{asSource:!0}))),Mi(ni,{audioRef:t[s].ref},Qo||(Qo=Mi(Fi,{asSource:!0})),Wo||(Wo=Mi(Di,{asSource:!0}))),Mi(ni,{audioRef:t[c].ref},Ko||(Ko=Mi(Ui,{asSource:!0})),Xo||(Xo=Mi(Ci,{asSource:!0}))))})))}function Zi(){var n=this.props.container,e=this.state,t=e.preloadError,a=e.gameError;return!n||t||a?null:Mi(U.Fragment,null,this.renderGround(),this.renderNate(),this.renderBullets(),this.renderImages(),this.renderSounds(),xi.styles,Oi.styles)}var $i=function(n){function e(){var n,t;Object(g.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];function i(n,e){var a,r;function o(n){try{var r=Math.min(n-a,50);return a=n,t.doGameUpdate(r,e),!0}catch(o){throw new ti.a("an error occurred while updating the game state",o)}}return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,document.addEventListener("mousemove",t.mouseMoveHandler),document.addEventListener("scroll",t.scrollHandler),a=performance.now(),e.next=1,Object(B.c)(n,o);case 1:e.next=5;break;case 2:if(e.prev=2,r=e.catch(0),!t.didUnmount){e.next=3;break}return e.abrupt("return");case 3:if(!B.d.isAborted.call(r)){e.next=4;break}return e.abrupt("return");case 4:t.setState({gameError:r});case 5:return e.prev=5,document.removeEventListener("mousemove",t.mouseMoveHandler),document.removeEventListener("scroll",t.scrollHandler),e.finish(5);case 6:case"end":return e.stop()}}),i,null,[[0,2,5,6]])}function s(){var n=Object(v.a)(k.a.mark(i));return function(e,t){return n.apply(this,arguments)}}return t=Li(this,e,R()(n=[]).call(n,r)),Object(O.a)(t,"state",{imagesReady:!1,soundsReady:!1,preloadDone:!1,preloadError:null,gameError:rs()?null:new ei.a(zi)}),Object(O.a)(t,"soundsEnabled",!1),Object(O.a)(t,"world",{nate:{physics:{vel:{x:0,y:0},accel:{x:0,y:0},pos:{x:0,y:0},onGround:!1},brain:{behavior:Ln.passive,moving:Hn.no,lookingUp:!1,jumping:In.none,shooting:Nn.none,facing:_n.right,aiming:Nn.none,retaliationTimer:0,shootCoolDown:0,shootHold:0,pacificationTimer:0},anim:{main:["idle"],shoot:[],recoil:!1,land:0},sounds:Object(O.a)(Object(O.a)(Object(O.a)({},Vn.bark,t.soundPlayer()),Vn.aroo,t.soundPlayer()),Vn.land,t.soundPlayer()),spawned:!1,actions:{},ref:C.a.createRef()},bounds:{left:0,right:0,ground:0,ref:C.a.createRef()},cursor:{absPos:{x:0,y:0},relPos:{x:0,y:0},msSinceUpdate:0},bullets:Object(L.d)(3,(function(){return{spawned:!1,initialized:!1,timeout:0,burst:0,trajectory:{x:0,y:0},driftRemaining:0,nodes:[{pos:{x:0,y:0},ref:C.a.createRef()},{pos:{x:0,y:0},ref:C.a.createRef()},{pos:{x:0,y:0},ref:C.a.createRef()}],sounds:Object(O.a)(Object(O.a)(Object(O.a)({},Vn.spawned,t.soundPlayer()),Vn.hit,t.soundPlayer()),Vn.timedOut,t.soundPlayer())}}))}),Object(O.a)(t,"runGameLoopTask",Object(M.c)((function(){var n=s();return new G.a(n)}))),Object(O.a)(t,"onImagesReady",(function(){t.didUnmount||t.setPreloadState({imagesReady:!0})})),Object(O.a)(t,"onImagesFailed",(function(n){if(!t.didUnmount)return t.setPreloadState({imagesReady:!1,preloadError:n}),!1})),Object(O.a)(t,"onSoundsReady",(function(){t.didUnmount||(t.soundsEnabled=!0,t.setPreloadState({soundsReady:!0}))})),Object(O.a)(t,"onSoundsFailed",(function(){if(!t.didUnmount)return t.soundsEnabled=!1,t.setPreloadState({soundsReady:!0}),!1})),Object(O.a)(t,"attachGame",(function(n){var e=t.state,a=e.preloadDone,r=e.preloadError,o=e.gameError;a&&(r?t.runGameLoopTask.stop("preloading failed with an error"):o?t.runGameLoopTask.stop("game failed with an error"):n?t.runGameLoopTask.restart(n):t.runGameLoopTask.stop("game detached from the container"))})),Object(O.a)(t,"mouseMoveHandler",(function(n){var e=t.world.cursor;e.absPos.x=n.clientX,e.absPos.y=n.clientY,e.msSinceUpdate=0})),Object(O.a)(t,"scrollHandler",(function(){t.world.cursor.msSinceUpdate=0})),t}return Object(x.a)(e,n),Object(b.a)(e,[{key:"doGameUpdate",value:_i},{key:"soundPlayer",value:Ni},{key:"setPreloadState",value:Hi},{key:"raiseError",value:Ii},{key:"componentDidMount",value:Vi},{key:"componentDidUpdate",value:Ji},{key:"componentWillUnmount",value:Yi},{key:"renderGround",value:qi},{key:"renderNate",value:Qi},{key:"renderBullets",value:Wi},{key:"renderImages",value:Ki},{key:"renderSounds",value:Xi},{key:"render",value:Zi}])}(C.a.PureComponent);function ns(){for(var n=M.e.document.createElement("div"),e="animationName WebkitAnimationName MozAnimationName OAnimationName msAnimationName KhtmlAnimationName".split(" "),t=0;t<e.length;t++)if(null!=n.style[e[t]])return!0;return!1}function es(){for(var n=M.e.document.createElement("div"),e="transform WebkitTransform MozTransform OTransform msTransform".split(" "),t=0;t<e.length;t++)if(null!=n.style[e[t]])return!0;return!1}function ts(){var n;return!!(n=M.e.requestAnimationFrame,M.g.func).call(n)&&!!(n=M.e.cancelAnimationFrame,M.g.func).call(n)}function as(){var n;return(n=M.e.Set,M.g.func).call(n)}var rs=Object(M.c)((function(){var n=void 0,e=ns,t=es,a=ts,r=as;return function(){return null==n&&(n=a()&&e()&&t()&&r()),n}}));function os(n,e){var t=this.classList.contains(n);e&&!t?this.classList.add(n):!e&&t&&this.classList.remove(n)}e.default=$i},drcE:function(n,e,t){"use strict";n.exports=t("14m4")},vfRR:function(n,e,t){"use strict";var a=t("pevS"),r=t(4).find,o=t("xE4W"),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),a({target:"Array",proto:!0,forced:i},{find:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}}),o("find")}}]);